# Create CDMXÂ´s map
```{r, include=FALSE}
library("mxmaps")
library("ggplot2")
library("ggplot2")
library("rnaturalearth")
library("ggspatial")
library("mxmaps")
```{r, include=FALSE}
world <- ne_countries(scale = "medium", returnclass = "sf")
library("mxmaps")
library("ggplot2")
library("rnaturalearth")
library("rnaturalearthdata")
library("ggspatial")
install.packages("mxmaps")
library("mxmaps")
library("ggplot2")
library("rnaturalearth")
library("rnaturalearthdata")
library("ggspatial")
world <- ne_countries(scale = "medium", returnclass = "sf")
ggplot2(data = world)+
geom_sf() +
annotation_scale(location = "bl", width_hint = 0.25) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.25, "in"), pad_y = unit(0.25, "in"),
style = north_arrow_fancy_orienteering, height = unit(1.25, "cm")) +
coord_sf(xlim = c(-116.15, -75.12), ylim = c(10.65, 33.97))+
theme_dark()+
annotate("point", x = -99.301, y = 19.285, colour = "#4cacdb", size = 2)+
labs(x="", y="")
library("ggplot2")
ggplot2(data = world)+
geom_sf() +
annotation_scale(location = "bl", width_hint = 0.25) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.25, "in"), pad_y = unit(0.25, "in"),
style = north_arrow_fancy_orienteering, height = unit(1.25, "cm")) +
coord_sf(xlim = c(-116.15, -75.12), ylim = c(10.65, 33.97))+
theme_dark()+
annotate("point", x = -99.301, y = 19.285, colour = "#4cacdb", size = 2)+
labs(x="", y="")
ggplot(data = world)+
geom_sf() +
annotation_scale(location = "bl", width_hint = 0.25) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.25, "in"), pad_y = unit(0.25, "in"),
style = north_arrow_fancy_orienteering, height = unit(1.25, "cm")) +
coord_sf(xlim = c(-116.15, -75.12), ylim = c(10.65, 33.97))+
theme_dark()+
annotate("point", x = -99.301, y = 19.285, colour = "#4cacdb", size = 2)+
labs(x="", y="")
## Call the function
source("Load_html_files.R")
## List the directories
folders <- list.files("../../data/GC-MS/")
## Create a dataframe empty
htm_df <- data.frame()
for (i in folders){
## Since the directories end in _outfiles we have to stay alone with the folder identifier in this case clust_ [0-9]+_ [0-9]+
name <- stringr::str_extract(string = i, pattern = "LibSrch_[0-9]+")
## Extract the desired tree, for this we use paste0 to enter the folders where are the trees and the mean as dataframe
tab_htm <- parse_htm_file(paste0("../../data/GC-MS/", i), 1 )
## Create a dataframe repeating the identifier according to with the number of row of the table
tab_names <- data.frame(rep(name, times = nrow(tab_htm)))
## Change the name of identifier column
colnames(tab_names) <- "Id"
## combine the data frames by columns
c_htm <- cbind(tab_names, tab_htm)
## combine the data frames by rows
htm_df <- rbind(htm_df, c_htm )
}
write.table(htm_df, "../../metadata/htm_df_allsamples.txt", sep="\t", row.names=FALSE)
## Call the function
source("Load_html_files.R")
